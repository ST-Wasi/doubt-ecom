<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Document</title>
</head>
<body>
    <%-include('../views/flash')%>

    <% if(currentUser){ %>
        <a href="/login"><button style="background-color: aquamarine; margin-left: 1300px; width: 70px; height: 50px; border-radius: 20px;" class="btn-success">Login</button></a>
    <% }else{ %>
        <a href="/logout"><button style="background-color: rgb(51, 206, 84); margin-left: 1300px ; width: 70px; height: 50px; border-radius: 20px;" class="btn-success">Logout</button></a>
    <% } %>

    </div>
    <h1>Displaying all the Products</h1>
    <div>
        <% for(let item of products){ %>
            <h1> <%=item.name%>  </h1>
            <img style="height: 200px; width: 200px;" src="<%=item.img%>" alt="">
            <h2> <%=item.price%> </h2>
            <p> <%=item.desc%></p>
            <button style="background-color: #0ecd87; border: none; color: white; padding: 15px 32px; text-align: center; text-decoration: none; display: inline-block; font-size: 16px; border-radius: 20px;"><a style="text-decoration: none;" href="/products/<%=item._id%>">Show this</a></button>
        
            <% if(currentUser && currentUser.role==="seller"){ %>
                <button style="background-color: #3440eb; border: none; color: white; padding: 15px 32px; text-align: center; text-decoration: none; display: inline-block; font-size: 13px; border-radius: 20px;"><a style="text-decoration: none;" href="/products/<%= item._id%>/edit">EDIT</a></button>
                <form action="/products/<%= item._id%>?_method=delete" method="post">
                    <button style="background-color: #871077; border: none; color: white; padding: 15px 32px; text-align: center; text-decoration: none; display: inline-block; font-size: 12px; border-radius: 20px;"><a style="text-decoration: none; color: white;">DELETE</button>
                </form>
            <% } %>
            
            <% } %>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
